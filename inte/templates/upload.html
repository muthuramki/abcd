<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Invoice</title>
    <link rel="stylesheet" href="static/upload.css">
    <link rel="stylesheet" href="static/page_load.css"> 
    <link rel="icon" href="static/ocr.png" type="image/x-icon">
</head>
<body>

<!-- Loading overlay -->
<div id="processing" style="display: none;"></div>

<div class="container">
    <form id="uploadForm" method="post" enctype="multipart/form-data" class="upload-form" onsubmit="startLoading()">
        {% csrf_token %}
        <img src="static/savic.png" alt="image" class="logo">
        <h2 class="title">OCR PROJECT</h2>
        <div class="form-group">
            <label for="invoice" class="file-label">Choose PDF Invoice:</label>
            <input type="file" name="invoice" id="invoice" class="file-input">
            <button type="button" class="clear-btn" onclick="clearFileInput()">Clear File</button>
        </div>
        <button type="button" class="upload-btn"  onclick="uploadInvoice()">Upload Invoice</button> <!-- Change type to button -->
        <a href="#" class="instruction-link" onclick="showInstructions()">Instructions For Uploading Invoice</a>
    </form>
</div>

<footer id="footer">
    <span>
        Â© 2024,
        <a href="http://www.savictech.com" target="_blank">savic technologies pvt. ltd.</a>
        All Rights Reserved.
    </span>
</footer>

<script>
    function clearFileInput() {
        var input = document.getElementById('invoice');
        input.value = ''; // Clear the input value
    }

    function showInstructions() {
        alert("To upload an invoice, follow these steps:\n\n1. Click on the 'Choose File' button.\n\n2. Browse and select the PDF file of your invoice from your device.\n\n3. Click on the 'Upload' button to submit the invoice.\n\nNote: This uploader only accepts PDF files and is intended for invoice uploads only. Please make sure your file is in PDF format before uploading.");
    }

    function uploadInvoice() {
        var form = document.getElementById('uploadForm');
        var processingDiv = document.getElementById('processing');
        // Show processing animation
        processingDiv.style.display = 'block';
        // Add the class to apply the CSS styles
        processingDiv.classList.add('loading-overlay');
        // Submit the form
        form.submit();
    }
</script>

</body>
</html>
